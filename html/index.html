<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mahmood Masjid</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Scheherazade+New&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="shortcut icon" href="../Images/greenlogo.png" type="image/x-icon">
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="container">
      <div class="logo">
        <a href="../html/index.html">
          <img src="../images/greenlogo.png" alt="logo" id="masjidLogo">
        </a>
      </div>
      <div class="main-menu">
        <ul id="menu">
          <li><a href="/html/index.html">Home</a></li>
          <li><a href="/html/about.html">About Us</a></li>
          <li><a href="/html/contact.html">Contact Us</a></li>
        <!--  <li><a class="btn btn-light" href="#"><i class="fas fa-user"></i> Log In</a></li> -->
        </ul>
      </div>
       <!-- Hamburger for mobile -->
    <div class="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>
</nav>
    </div>
  </nav>
  <!-- Logo Lightbox Overlay -->
<div id="logoOverlay" class="logo-overlay">
  <img src="../images/greenlogo.png" alt="Mahmood Masjid Logo" class="logo-popup">
</div>



  <!-- Donation Section -->
  <section class="donation-section">
    <div class="container">
      <div class="donation-content">
        <h2>Support Mahmood Masjid Reconstruction</h2>
        <p>
          Help us rebuild Mahmood Masjid — a beautiful house of worship for our community.  
          Every contribution counts. May Allah reward you abundantly for your generosity.
        </p>
        <a href="#" class="btn-donate">Donate Now</a>
        <div class="donation-details">
          <p><strong>Bank Name:</strong> MCB</p>
          <p><strong>IBAN:</strong> PK80MUCB1442254841013167</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Prayer Times Section -->
  <section class="prayer-times">
    <div class="container">
      <!-- Live Clock & Date -->
      <div class="live-clock-container">
        <div class="live-clock" id="liveClock">--:--:--</div>
        <div class="live-date">
          <span id="gregorianDate">--/--/----</span> |
          <span id="hijriDate">--/--/----</span>
        </div>
        <div class="time-note">Time shown is in Pakistan Standard Time (PST)</div>
      </div>

      <!-- Prayer Times -->
      <section class="prayer-times fade-in">
  <h2>اوقاتِ نماز - Prayer Times</h2>
  <div id="prayerList" class="prayer-list">
    <p>Loading prayer times...</p>
  </div>
  <div class="time-note">According to Gujrat, Pakistan</div>
</section>
      <div class="cta-actions">
        <a href="/html/prayer-calendar.html" class="btn-outline">prayer-calendar</a>
      </div>
    </div>
  </section>

  <!-- Featured News -->
  <section class="news-section">
    <div class="container">
      <h2>Featured News</h2>
      <div class="featured-news fade-in">
        <div class="news-item">
          <h3>Masjid Reconstruction Update</h3>
          <p>Exciting news! Our masjid is being rebuilt to better serve the community. Click below to view the current progress and our beautiful new design plans.</p>
          <a href="/html/masjid-reconstruction.html" class="btn-news">Read More</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Latest News -->
  <section class="news">
    <div class="container">
      <h2>Latest News</h2>
      <div class="news-list">
        <div class="news-item">
          <h3>Construction Begins</h3>
          <p>We are excited to announce that the construction of Mahmood Masjid will begin next month. Stay tuned for updates!</p>
          <span class="news-date">Oct 24, 2025</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container footer-content">
      <div class="footer-logo">
        <img src="../Images/greenlogo.png" alt="Mahmood Masjid Logo">
        <h3>Mahmood Masjid</h3>
        <p>Building our community, together in faith.</p>
      </div>
      <div class="footer-socials">
        <h4>Follow Us</h4>
        <div class="social-links">
          <a href="https://www.facebook.com/profile.php?id=61582326976125" target="_blank"><i class="fab fa-facebook-f"></i></a>
          <a href="https://www.instagram.com/mahmoodmasjid/" target="_blank"><i class="fab fa-instagram"></i></a>
          <a href="https://www.tiktok.com/@mahmoodmasjid" target="_blank"><i class="fab fa-tiktok"></i></a>
          <a href="https://youtube.com/@mahmoodmasjid?si=ZGjz9F8QZAnysBh1" target="_blank"><i class="fab fa-youtube"></i></a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>© 2025 Mahmood Masjid. All rights reserved.</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="../js/main.js"></script>

  <!-- Live Clock & Date Script -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const liveClock = document.getElementById('liveClock');
      const gregorianEl = document.getElementById('gregorianDate');
      const hijriEl = document.getElementById('hijriDate');

      function formatTimeInPK(now) {
        return new Intl.DateTimeFormat('en-GB', {
          timeZone: 'Asia/Karachi',
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit',
          hour12: false
        }).format(now);
      }

      function formatGregorianInPK(now) {
        return new Intl.DateTimeFormat('en-GB', {
          timeZone: 'Asia/Karachi',
          weekday: 'long',
          year: 'numeric',
          month: 'long',
          day: 'numeric'
        }).format(now);
      }

      function formatHijriInPK(now) {
        try {
          return new Intl.DateTimeFormat('en-TN-u-ca-islamic', {
            timeZone: 'Asia/Karachi',
            weekday: 'long',
            day: 'numeric',
            month: 'long',
            year: 'numeric'
          }).format(now) + ' AH';
        } catch {
          return 'Hijri date unavailable';
        }
      }

      function updateAll() {
        const now = new Date();
        liveClock.textContent = formatTimeInPK(now);
        gregorianEl.textContent = formatGregorianInPK(now);
        hijriEl.textContent = formatHijriInPK(now);
      }

      updateAll();
      setInterval(updateAll, 1000);
    });
  </script>
<script>
  const logo = document.getElementById('masjidLogo');
const overlay = document.getElementById('logoOverlay');

logo.addEventListener('click', (e) => {
  e.preventDefault();
  overlay.style.display = 'flex'; // show overlay
});

overlay.addEventListener('click', () => {
  overlay.style.display = 'none'; // hide on click outside
});

document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') overlay.style.display = 'none'; // hide on ESC
});

</script>

<!--for all screens -->
<script>
  const hamburger = document.querySelector('.hamburger');
  const navMenu = document.querySelector('.main-menu ul');

  hamburger.addEventListener('click', () => {
    hamburger.classList.toggle('active');
    navMenu.classList.toggle('show');
  });
</script>

<!--Prayers Times-->
<script>
async function getPrayerTimes() {
  const city = "Gujrat";
  const country = "Pakistan";
  const method = 1; // University of Islamic Sciences, Karachi (closest to Dawat-e-Islami style)
  
  try {
    const response = await fetch(`https://api.aladhan.com/v1/timingsByCity?city=${city}&country=${country}&method=${method}`);
    const data = await response.json();
    const timings = data.data.timings;

    const prayers = [
      { name: "Fajr", time: timings.Fajr },
      { name: "Sunrise", time: timings.Sunrise },
      { name: "Zuhr", time: timings.Dhuhr },
      { name: "Asr", time: timings.Asr },
      { name: "Maghrib", time: timings.Maghrib },
      { name: "Isha", time: timings.Isha },
      { name: "Jummah", time: "2:00 PM" } // Static example, can adjust
    ];

    const container = document.getElementById("prayerList");
    container.innerHTML = prayers.map(p => `
      <div class="prayer-item ${p.name === "Jummah" ? "Jummah" : ""}">
        <span class="prayer-name">${p.name}</span>
        <span class="prayer-time">${p.time}</span>
      </div>
    `).join("");

  } catch (error) {
    document.getElementById("prayerList").innerHTML = `<p>Unable to load prayer times.</p>`;
    console.error(error);
  }
}

getPrayerTimes();
</script>

<!--Function to fetch prayer times-->
<script>
async function fetchPrayerTimes() {
  const response = await fetch("https://api.aladhan.com/v1/timingsByCity?city=Ajnala&country=Pakistan&method=2");
  const data = await response.json();
  const timings = data.data.timings;

  document.getElementById("Fajr").textContent = timings.Fajr;
  document.getElementById("Dhuhr").textContent = timings.Dhuhr;
  document.getElementById("Asr").textContent = timings.Asr;
  document.getElementById("Maghrib").textContent = timings.Maghrib;
  document.getElementById("Isha").textContent = timings.Isha;
  document.getElementById("Sunrise").textContent = timings.Sunrise;
}

// Call it once on page load
fetchPrayerTimes();

// Auto-update at midnight
function scheduleMidnightUpdate() {
  const now = new Date();
  const midnight = new Date(
    now.getFullYear(),
    now.getMonth(),
    now.getDate() + 1, // next day
    0, 0, 0 // 00:00:00
  );
  const msUntilMidnight = midnight - now;

  setTimeout(() => {
    fetchPrayerTimes();  // Update timings
    scheduleMidnightUpdate(); // Schedule next update
  }, msUntilMidnight);
}

scheduleMidnightUpdate();
</script>




</body>
</html>
